"use strict";(self.webpackChunkakasha_docs=self.webpackChunkakasha_docs||[]).push([[65923],{49175:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var i=t(74848),s=t(28453);const o={sidebar_position:6,sidebar_label:"Extension Points"},a="Extensions (extension-points)",r={id:"extensions/extension_points",title:"Extensions (extension-points)",description:"Extension points are components exposed by an app that can be mounted at any level inside the same app or other apps or widgets. These components can provide additional functionalities to the already rendered elements. For example a like button extension point can be rendered on a beam card, but also on the profile app. A follow button can be rendered on a user's profile and also on a profile-related widget etc.",source:"@site/docs/extensions/extension_points.md",sourceDirName:"extensions",slug:"/extensions/extension_points",permalink:"/extensions/extension_points",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1719832236e3,sidebarPosition:6,frontMatter:{sidebar_position:6,sidebar_label:"Extension Points"},sidebar:"defaultSidebar",previous:{title:"Loading Function",permalink:"/extensions/loading_function"},next:{title:"Content Blocks",permalink:"/extensions/content_blocks"}},l={},c=[{value:"Extension points example usecase",id:"extension-points-example-usecase",level:2},{value:"Registration",id:"registration",level:2},{value:"Configuration Object interface",id:"configuration-object-interface",level:2},{value:"Declaring extension slots",id:"declaring-extension-slots",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"extensions-extension-points",children:"Extensions (extension-points)"}),"\n",(0,i.jsx)(n.p,{children:"Extension points are components exposed by an app that can be mounted at any level inside the same app or other apps or widgets. These components can provide additional functionalities to the already rendered elements. For example a like button extension point can be rendered on a beam card, but also on the profile app. A follow button can be rendered on a user's profile and also on a profile-related widget etc."}),"\n",(0,i.jsx)(n.h2,{id:"extension-points-example-usecase",children:"Extension points example usecase"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"insert a like button into a beam-card"}),"\n",(0,i.jsx)(n.li,{children:"display the beam editor anywhere you want in your extension"}),"\n",(0,i.jsx)(n.li,{children:'display the "Flag" button on any entity - provided by the Vibes App'}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"registration",children:"Registration"}),"\n",(0,i.jsx)(n.p,{children:"The extension points are automatically registered when the parent app registers. Extension points cannot be standalone, they are provided by an app via the app's configuration object."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="index.js of MyApplication"',children:"export const register = () => {\n  return {\n    // ...\n    extensions: [{ ...myExtensionConfig }],\n  };\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-object-interface",children:"Configuration Object interface"}),"\n",(0,i.jsxs)(n.p,{children:["The config object is defined within the parent app's config. This is managed using the ",(0,i.jsx)(n.code,{children:"extensions"})," key,\nwhich is an array containing the config object for each extension-point."]}),"\n",(0,i.jsx)(n.p,{children:"To define an extension-point the following properties must be set:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"}}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"loadingFn"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"yes"}),(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:["the ",(0,i.jsx)(n.a,{href:"/extensions/loading_function",children:"loadingFn"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"mountsIn"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"yes"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"the slot in which this extension will be mounted"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="index.ts of MyAwesomeApp"',children:"\n// the register function of an app\nexport const register = () => {\n  // this is the config object of an app\n  return {\n    // ...app's config options\n    extensions: [\n      {\n        loadingFn: () => import('path/to/extension1.tsx'),\n        mountsIn: 'profile-card/profile-menu-extensions'\n      },\n      {\n        loadingFn: () => import('path/to/extension2.tsx'),\n        mountsIn: 'beam-card/beam-card-footer-extensions'\n      }\n    ]\n  }\n}\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"declaring-extension-slots",children:"Declaring extension slots"}),"\n",(0,i.jsx)(n.p,{children:"It is a good idea to allow other apps to extend your components with additional functionality."}),"\n",(0,i.jsxs)(n.p,{children:["For apps written with React, AKASHA Core provides a small library which is already available under the name ",(0,i.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/tree/next/libs/extensions/src/react",children:"@akashaorg/ui-lib-extensions"})]}),"\n",(0,i.jsxs)(n.p,{children:["The library exports React component ",(0,i.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/blob/next/libs/extensions/src/react/extension.tsx",children:(0,i.jsx)(n.code,{children:"<Extension />"})})," which will do the heavy lifting for mounting/unmounting the extensions by matching the ",(0,i.jsx)(n.code,{children:"name"})," prop with the ",(0,i.jsx)(n.code,{children:"mountsIn"})," property on the extension's interface."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Extensions are not namespaced because the idea is to have multiple extensions from multiple apps matching into a slot."})}),"\n",(0,i.jsx)(n.p,{children:"Example usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="Defining a mounting point of an extension-point"',children:"import { Extension } from '@akashaorg/ui-lib-extensions/lib/react/extension';\n\nconst MyReactComponent = () => {\n  return (\n    <>\n      <Extension\n        name=\"my-app/some-extension-id\"\n        {...someProps}\n      />\n    </>\n  );\n};\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"someProps"})," may vary according to needs but make sure that you provide most common resource ids. for example if MyReactComponent is presenting a beam, make sure you pass down a beam id so that the extension-point can use this data to identify the resource."]})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(96540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);