"use strict";(self.webpackChunkakasha_docs=self.webpackChunkakasha_docs||[]).push([[32055],{48545:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var t=i(74848),s=i(28453);const a={sidebar_position:1,sidebar_label:"Applications"},o="Applications Overview",l={id:"extensions/applications",title:"Applications Overview",description:"An application is a micro-frontend that complements and extends your web3 social network experience. Applications are the main building blocks of a world and it can be seen as a standalone SPA's (Single Page Application) except that they",source:"@site/docs/extensions/applications.md",sourceDirName:"extensions",slug:"/extensions/applications",permalink:"/extensions/applications",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1719832236e3,sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Applications"},sidebar:"defaultSidebar",previous:{title:"Extensions",permalink:"/extensions/"},next:{title:"Widgets",permalink:"/extensions/widgets"}},r={},d=[{value:"Registration",id:"registration",level:2},{value:"Example of a registration function",id:"example-of-a-registration-function",level:3},{value:"Configuration object interface",id:"configuration-object-interface",level:2},{value:"Application&#39;s mounting point.",id:"applications-mounting-point",level:2},{value:"Plugins",id:"plugins",level:2},{value:"Initialization and order of loading",id:"initialization-and-order-of-loading",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"applications-overview",children:"Applications Overview"}),"\n",(0,t.jsxs)(n.p,{children:["An application is a micro-frontend that complements and extends your web3 social network experience. Applications are the main building blocks of a world and it can be seen as a standalone SPA's (Single Page Application) except that they\nare loaded, mounted and unmounted by the underlying system ",(0,t.jsx)(n.code,{children:"(App Loader)"})," which is a thin layer built on top of the ",(0,t.jsx)(n.a,{href:"https://single-spa.js.org/",children:"single-spa"})," microfrontends library."]}),"\n",(0,t.jsx)(n.p,{children:"Some of default apps that are available in Akasha World include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Antenna"}),"\n",(0,t.jsx)(n.li,{children:"Authentication"}),"\n",(0,t.jsx)(n.li,{children:"Search"}),"\n",(0,t.jsx)(n.li,{children:"Profile"}),"\n",(0,t.jsx)(n.li,{children:"Settings"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"registration",children:"Registration"}),"\n",(0,t.jsxs)(n.p,{children:["Application registration follows the same steps as any extension registration which is documented ",(0,t.jsx)(n.a,{href:"/extensions/#the-registration-part",children:"here"})]}),"\n",(0,t.jsx)(n.h3,{id:"example-of-a-registration-function",children:"Example of a registration function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="src/index.ts"',children:"export function register() {\n  return {\n    // ...config object\n  }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"The register function must be synchronous and defined as a named export."})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-object-interface",children:"Configuration object interface"}),"\n",(0,t.jsxs)(n.p,{children:["The register function takes only one argument which is an object of the type ",(0,t.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/blob/next/libs/typings/src/ui/app-loader.ts",children:"IntegrationRegistrationOptions"}),".\nThe config object returned returned has the ",(0,t.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/blob/next/libs/typings/src/ui/apps.ts",children:"IAppConfig"})," type. The required parameters are:"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/extensions/loading_function",children:"loadingFn"})})," - defines how the application is mounted/unmounted by importing the single-spa-react lifecycle methods."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"mountsIn"})," -> the slot id of the area (defined in the layout widget) on which the app mounts."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"menuItems"})," -> used by the Sidebar Widget to construct the menu."]}),"\n",(0,t.jsxs)(n.p,{children:["Optionally apps (and widgets) can also define\n",(0,t.jsx)(n.a,{href:"/extensions/extension_points",children:"extensions"})," and\n",(0,t.jsx)(n.a,{href:"/extensions/content_blocks",children:"contentBlocks"})," properties which are explained in their own docs."]}),"\n",(0,t.jsx)(n.h2,{id:"applications-mounting-point",children:"Application's mounting point."}),"\n",(0,t.jsxs)(n.p,{children:["Applications have a specific mounting area that is defined by the layout widget. This configuration is then passed down to app register function's ",(0,t.jsx)(n.code,{children:"opts"})," parameter as ",(0,t.jsx)(n.code,{children:"layoutConfig"}),". The layout Widget used in the Akasha World defines the application's mount point in the central area, right below the topbar. (More details ",(0,t.jsx)(n.a,{href:"/extensions/layout_widget",children:"here"}),")"]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"Applications does not have an activity function. The activity function is calculated from the name of the app."}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["url: ",(0,t.jsx)(n.code,{children:"https://localhost:8181/example-app"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["-> will load the ",(0,t.jsx)(n.code,{children:"example-app"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["url: ",(0,t.jsx)(n.code,{children:"https://localhost:8181/@akashaorg/app-settings-ewa"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["-> will load the ",(0,t.jsx)(n.code,{children:"@akashaorg/app-settings-ewa"})]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"Only one application can be rendered on any given route."})]}),"\n",(0,t.jsx)(n.h2,{id:"plugins",children:"Plugins"}),"\n",(0,t.jsxs)(n.p,{children:["Apps and Widgets can also provide additional functionalities\nthrough ",(0,t.jsx)(n.a,{href:"/extensions/plugins",children:"plugins"}),". Plugins are not rendered\ninto the view and their purpose is to allow other apps to implement additional (domain specific) logic provided. Some examples of plugins include:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"a custom profile app can expose an api to fetch or update a profile"}),"\n",(0,t.jsx)(n.li,{children:"a plugin that saves data locally"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"initialization-and-order-of-loading",children:"Initialization and order of loading"}),"\n",(0,t.jsxs)(n.p,{children:["Initialization and registration is done by the ",(0,t.jsx)(n.code,{children:"app-loader"})," in the following order:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["initialize plugins (calls the ",(0,t.jsx)(n.code,{children:"getPlugin"})," function of every app)"]}),"\n",(0,t.jsxs)(n.li,{children:["register ",(0,t.jsx)(n.code,{children:"layout-widget"})," (calls the ",(0,t.jsx)(n.code,{children:"register"})," method on the layout-widget)"]}),"\n",(0,t.jsxs)(n.li,{children:["initialize apps and widgets (calls the ",(0,t.jsx)(n.code,{children:"initialize"})," method on the apps and widgets - if provided)"]}),"\n",(0,t.jsxs)(n.li,{children:["register apps and widgets (calls the ",(0,t.jsx)(n.code,{children:"register"})," method on the apps and widgets)"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["The plugins are initialized first so they are already available in the ",(0,t.jsx)(n.code,{children:"opts"})," param of the register function and in the root component of the apps and widgets. However, the plugin you are trying to access can be provided by an app that is not installed so additional fallback logic should be added to avoid breaking your app."]})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(96540);const s={},a=t.createContext(s);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);