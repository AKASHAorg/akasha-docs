"use strict";(self.webpackChunkakasha_docs=self.webpackChunkakasha_docs||[]).push([[82161],{80721:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var i=t(74848),s=t(28453);const o={sidebar_position:2,sidebar_label:"Widgets"},r="Widgets Overview",a={id:"extensions/widgets",title:"Widgets Overview",description:"A widget is a small functional unit that can be reused across multiple pages/apps. It usually covers very specific functionalities like displaying relevant information or allowing to perform common actions.",source:"@site/docs/extensions/widgets.md",sourceDirName:"extensions",slug:"/extensions/widgets",permalink:"/extensions/widgets",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1719843115e3,sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Widgets"},sidebar:"defaultSidebar",previous:{title:"Applications",permalink:"/extensions/applications"},next:{title:"Plugins",permalink:"/extensions/plugins"}},c={},l=[{value:"Registration",id:"registration",level:2},{value:"Configuration object interface",id:"configuration-object-interface",level:2},{value:"Contextual widgets",id:"contextual-widgets",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"widgets-overview",children:"Widgets Overview"}),"\n",(0,i.jsx)(n.p,{children:"A widget is a small functional unit that can be reused across multiple pages/apps. It usually covers very specific functionalities like displaying relevant information or allowing to perform common actions."}),"\n",(0,i.jsxs)(n.p,{children:["A widget cannot have its own routes, hence you cannot navigate to a widget. Widgets are meant to not change or unmount when the route changes however there is no restriction for this and the interface allows ",(0,i.jsx)(n.a,{href:"#contextual-widgets",children:"contextual widgets"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Widgets are mounted only in specific areas as defined by the ",(0,i.jsx)(n.a,{href:"/extensions/layout_widget",children:"Layout Widget"})," (which is also a widget) and some areas may be hidden on certain viewports/screen sizes. For example the widget area in the current implementation of the Layout Widget is hidden on mobile devices."]}),"\n",(0,i.jsx)(n.p,{children:"Beside the central area which is used by the apps, there are other sections in the layout that can be used by widget. As an example, the sidebar, the top bar and the cards on the right of the screen are all widgets."}),"\n",(0,i.jsx)(n.p,{children:"Examples of widgets are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Trending"})," widget showing latest profiles and trending topics"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Topbar"})," widget showing the World logo and buttons for navigation, authentication and sidebar toggle."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Mini Profile"})," widget which shows brief overview of the beam author's profile on the full beam page"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"registration",children:"Registration"}),"\n",(0,i.jsxs)(n.p,{children:["Widget registration follows the same steps as any extension registration which is documented ",(0,i.jsx)(n.a,{href:"/extensions/#the-registration-part",children:"here"})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The register function must be synchronous and defined as a named export."})}),"\n",(0,i.jsxs)(n.p,{children:["The register function takes only one argument which is an object of the type ",(0,i.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/blob/next/libs/typings/src/ui/app-loader.ts",children:"IntegrationRegistrationOptions"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"configuration-object-interface",children:"Configuration object interface"}),"\n",(0,i.jsxs)(n.p,{children:["The config object returned returned has the ",(0,i.jsx)(n.a,{href:"https://github.com/AKASHAorg/akasha-core/blob/next/libs/typings/src/ui/apps.ts",children:"IAppConfig"})," type. The required parameters are:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"export const register = () => {\n  return {\n    loadingFn: () => importPromise,\n    mountsIn: string,\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/extensions/loading_function",children:"loadingFn"})})," - defines how the application is mounted/unmounted by importing the single-spa-react lifecycle methods."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"mountsIn"})," -> the slot id of the area (defined in the layout widget) on which the widget mounts."]}),"\n",(0,i.jsx)(n.h2,{id:"contextual-widgets",children:"Contextual widgets"}),"\n",(0,i.jsxs)(n.p,{children:["Route based mounting of a widget is possible using the optional ",(0,i.jsx)(n.code,{children:"activeWhen"})," property"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"export const register = () => {\n  return {\n    ...\n    activeWhen: (location, pathToActiveWhen) => {\n      return pathToActiveWhen('/some/path')(location);\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The second parameter of ",(0,i.jsx)(n.code,{children:"activeWhen"})," is a utility function. This utility function converts a URL path into an activity function which when called with the current Location, returns a boolean.\nThe path that is passed to ",(0,i.jsx)(n.code,{children:"pathToActiveWhen"})," can also contain dynamic values."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\x3c!-- dynamic values --\x3e\npathToActiveWhen(/users/:userId/profile)\n\u2705 https://app.com/users/123/profile\n\u2705 https://app.com/users/123/profile/sub-profile/\n\ud83d\udeab https://app.com/users/profile/sub-profile/\n\ud83d\udeab https://app.com/users/profile/sub-profile/\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can also use your own matching logic like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"{\n  activeWhen: (location) => {\n    return location.pathname === 'some/path'\n  }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);